{
  "hash": "f5c5c8b1fa8b9f2caf40594a416c938c",
  "result": {
    "markdown": "---\nauthor: \"Libby Smith\"\nformat: html\neditor: visual\nexecute: \n  freeze: true\n---\n\n\n# Exploratory Data Analysis\n\n## Assignment 2 - Knowledge Mining\n\nUsing the TEDS2016 dataset, I explore different issues that arise from analysis of 1690 observations of 54 variables. Using this data, I generate graphics and computations to describe key relationships. TEDS is an acronym for Taiwan's Election and Democratization Study, 2012-2016 (IV): the Survey of the Presidential and Legislative Elections.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(haven)\n#We are working with the haven package.\n#If not already, the package will need to be installed prior to this command. \n\nTEDS_2016 <- read_stata(\n  \"https://github.com/datageneration/home/blob/master/DataProgramming/data/TEDS_2016.dta?raw=true\")\n```\n:::\n\n\n## Variables Explored and Missing Values:\n\nVotesai, female, DPP, age, income, edu, Taiwanese, and Econ_worse.\n\nWhen encountering missing values, I put my social sciences hat on and determine that missing values should not simply be removed. In any professional setting in pursuit of social data, the external and internal validation of the potential models can be at risk if missing values are not properly computed. The reason for the data being missing should be determined and responded to. The response should attempt to resolve the potential bias in the data by retrieving the missing value(s) and the reason for its missingness, should the budget allow. Should the project be hindered by budget or logistical constraints, it is best to move forward with replacing missing values with the vector's average(s).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNA2mean <- function(x) replace(x, is.na(x), mean(x, na.rm = TRUE)) \n#Saving the function to Environment\n\nreplace(TEDS_2016, TRUE, lapply(TEDS_2016, NA2mean))\n```\n:::\n\n\n## Data Profile Report using DataExplorer Package\n\nFor the first half of exploratory search, I use statistical modeling methods to evaluate uni variate and bivariate relationships. The benefit of this method is to examine several pairwise and lone variables simultaneously to test several theoretical parameters. The downside of this method is that undefined metrics of unknown parameters potentially influencing the hypothesis of interest here cannot be identified and explored this way.\n\nOne of my favorite ways to generate reports on data structure for initial analysis is with the packages dplyr and DataExplorer. This method generates a number of key graphs and figures providing a basis for which relationships to investigate further.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages=\"dplyr\"\nlibrary(dplyr)\nChosenRows <- TEDS_2016 %>% select(female, DPP, age, income, edu, Taiwanese, Tondu, Econ_worse, votetsai) \n#Create dataframe with irrelevant variables removed.\n\ninstall.packages=\"DataExplorer\"\nlibrary(DataExplorer)\ncreate_report(\n     ChosenRows,\n     report_title = \"Data Profiling: EDA Report\")\n#Generate Rmarkdown report (Click Below)\n```\n:::\n\n\n[Data Profiling: EDA Report](https://libertysmith.github.io/report.html){#overview}\n\n## Evaluating the Report\n\nOne of the most useful visualizations it provides is the Correlation Heat Map. There are 9 relationships that indicate a correlation stronger than or equal to the absolute value of .15. The strongest being between Education and Age with a negative Pearson's correlation of -.64. We can infer that this sample shows older individuals to have less education than their younger counterparts, which makes sense in a more recently industrialized country. The strongest positive correlation is between votesai and Taiwanese at .45. My theoretical reasoning supposes that those who are more closely tied to lands and culture in Taiwan are more likely to support the nationalist party over the other dominating party (Kuomintang or KMT).\n\n## Labeling Factor Levels\n\nUsing the expss package is my easiest method of relabeling factor levels for visualization.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(expss)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'expss' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: maditr\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'maditr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nTo modify variables or add new variables:\n             let(mtcars, new_var = 42, new_var2 = new_var*hp) %>% head()\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'maditr'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:data.table':\n\n    copy, dcast, melt\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:dplyr':\n\n    between, coalesce, first, last\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nUse 'expss_output_rnotebook()' to display tables inside R Notebooks.\n To return to the console output, use 'expss_output_default()'.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'expss'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:data.table':\n\n    copy, like\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:DataExplorer':\n\n    split_columns\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:dplyr':\n\n    compute, contains, na_if, recode, vars\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:haven':\n\n    is.labelled, read_spss\n```\n:::\n\n```{.r .cell-code}\nChosenRows$Tondu <- factor(ChosenRows$Tondu, levels=c('1','2','3', '4', '5','6', '9'), labels=c('Unification now','Status quo, unif. in future','Status quo, decide later', 'Status quo forever', 'Status quo, indep. in future', 'Independence now', 'No response'))\n```\n:::\n\n\n## Frequency Table and Bar Chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'ggplot2'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:expss':\n\n    vars\n```\n:::\n\n```{.r .cell-code}\nggplot(ChosenRows, aes(Tondu)) + \ngeom_bar(aes(y = (..count..)/sum(..count..))) + \nscale_y_continuous(labels=scales::percent) +\nylab(\"Support for Unification (%)\") + \nxlab(\"Stances on Unification\") +\ntheme_bw()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.\nâ„¹ Please use `after_stat(count)` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](assignment2_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(descr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'descr' was built under R version 4.2.2\n```\n:::\n\n```{.r .cell-code}\nfreq(ChosenRows$Tondu)\n```\n\n::: {.cell-output-display}\n![](assignment2_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nChosenRows$Tondu \n                             Frequency Percent\nUnification now                     27   1.598\nStatus quo, unif. in future        180  10.651\nStatus quo, decide later           546  32.308\nStatus quo forever                 328  19.408\nStatus quo, indep. in future       380  22.485\nIndependence now                   108   6.391\nNo response                        121   7.160\nTotal                             1690 100.000\n```\n:::\n:::\n",
    "supporting": [
      "assignment2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}