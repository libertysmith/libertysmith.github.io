<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Knowledge Mining 101 with Libby Smith – assignment4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Knowledge Mining 101 with Libby Smith</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">About Me</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./research.html">Research Project</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Curriculumvitae.html">Curriculum Vitae</a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="button" data-bs-toggle="dropdown" aria-expanded="false">Labs</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="./Lab1.html">
 <span class="dropdown-text">Lab1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Lab2.html">
 <span class="dropdown-text">Lab2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Lab3.html">
 <span class="dropdown-text">Lab3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments" role="button" data-bs-toggle="dropdown" aria-expanded="false">Assignments</a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments">    
        <li>
    <a class="dropdown-item" href="./assignment1.html">
 <span class="dropdown-text">Drafting Hypotheses</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./litreview.html">
 <span class="dropdown-text">What’s Changed in Nine Years? LitReview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assignment2.html">
 <span class="dropdown-text">Exploratory Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assignment3.html">
 <span class="dropdown-text">Multinomial Logistic Regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./report.html">
 <span class="dropdown-text">DATA Profiling EDA Report</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assignment4.html">
 <span class="dropdown-text">Gentle Machine Learning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assignment5.html">
 <span class="dropdown-text">Gentle Text Mining</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#principal-component-analysis-and-clustering" id="toc-principal-component-analysis-and-clustering" class="nav-link active" data-scroll-target="#principal-component-analysis-and-clustering">Principal Component Analysis and Clustering</a>
  <ul class="collapse">
  <li><a href="#assignment-4---gentle-intro-to-machine-learning" id="toc-assignment-4---gentle-intro-to-machine-learning" class="nav-link" data-scroll-target="#assignment-4---gentle-intro-to-machine-learning">Assignment 4 - Gentle Intro to Machine Learning</a>
  <ul class="collapse">
  <li><a href="#preparing-the-data-for-principle-component-analysis" id="toc-preparing-the-data-for-principle-component-analysis" class="nav-link" data-scroll-target="#preparing-the-data-for-principle-component-analysis">Preparing the Data for Principle Component Analysis</a></li>
  <li><a href="#visualizing-principal-components" id="toc-visualizing-principal-components" class="nav-link" data-scroll-target="#visualizing-principal-components">Visualizing Principal Components</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="principal-component-analysis-and-clustering" class="level1">
<h1>Principal Component Analysis and Clustering</h1>
<section id="assignment-4---gentle-intro-to-machine-learning" class="level2">
<h2 class="anchored" data-anchor-id="assignment-4---gentle-intro-to-machine-learning">Assignment 4 - Gentle Intro to Machine Learning</h2>
<section id="preparing-the-data-for-principle-component-analysis" class="level3">
<h3 class="anchored" data-anchor-id="preparing-the-data-for-principle-component-analysis">Preparing the Data for Principle Component Analysis</h3>
<p>Using the TEDS2016 dataset, we explore groupings of the data through unsupervised learning. By this, we are refering to a kind of initial discovery phase without a specified hypothesis or output/inputs. We focus on two common methods of machine learning: Principal Component Analysis (PCA) and clustering. Remember the TEDS2016 data has 54 variables and 1690 observations. Starting with PCA, this method is most useful when there are numerous continuous metrics to sift through and we want to identify just the top most influential with the least collinearity. PCA is known for identifying or improving dimensional quality to model.</p>
<p>First, let’s remove the variables that cannot be used in this technique. Below we remove the elements with a variance of 0 since it cannot be rescaled for the purposes of this method. We also remove all cases with missing values using the dplyr package, leaving us with 1074 cases.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>TEDS_2016 <span class="ot">&lt;-</span> <span class="fu">read_stata</span>(<span class="st">"https://github.com/datageneration/home/blob/master/DataProgramming/data/TEDS_2016.dta?raw=true"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>TEDSvar <span class="ot">&lt;-</span> <span class="fu">apply</span>(TEDS_2016, <span class="dv">2</span>, var)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(TEDSvar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       District             Sex             Age             Edu           Arear 
   7.035536e+06    2.499627e-01    2.062108e+00    2.400302e+00    2.428402e+00 
         Career         Career8          Ethnic           Party         PartyID 
   2.058024e+00    3.928602e+00    2.263065e+00    9.854263e+01    1.259662e+01 
          Tondu          Tondu3             nI2        votetsai           green 
   3.149143e+00    3.476086e+00    2.094235e+03              NA    2.352812e-01 
    votetsai_nm    votetsai_all    Independence     Unification              sq 
             NA              NA    2.054982e-01    1.075462e-01    2.498534e-01 
      Taiwanese             edu          female     whitecollar       lowincome 
   2.339538e-01              NA    2.499627e-01    2.487575e-01    6.800666e-01 
         income       income_nm             age             KMT             DPP 
   7.491683e+00              NA    2.826286e+02    1.769809e-01    2.275458e-01 
            npp         noparty             pfp           South           north 
   2.481108e-02    2.336511e-01    1.858738e-02    2.501196e-01    2.497430e-01 
  Minnan_father Mainland_father      Econ_worse      Inequality     inequality5 
   2.006190e-01    9.194229e-02    2.471828e-01    6.037290e-02    5.307591e-01 
     econworse5 Govt_for_public        pubwelf5  Govt_dont_care      highincome 
   6.011081e-01    2.444975e-01    1.371462e+00    2.501466e-01              NA 
        votekmt      votekmt_nm            Blue           Green        No_Party 
   1.632635e-01              NA    0.000000e+00    0.000000e+00    0.000000e+00 
       voteblue     voteblue_nm       votedpp_1       votekmt_1 
   2.011445e-01              NA              NA              NA </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>PCATEDS <span class="ot">&lt;-</span> TEDS_2016 <span class="sc">%&gt;%</span> <span class="fu">select_if</span>(<span class="cf">function</span>(x) <span class="fu">var</span>(x, <span class="at">na.rm =</span> T) <span class="sc">!=</span><span class="dv">0</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>PCATEDS <span class="ot">&lt;-</span> PCATEDS[<span class="fu">complete.cases</span>(PCATEDS),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now the data is ready for PCA</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>PCA <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(PCATEDS, <span class="at">scale =</span> T)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(PCA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Importance of components:
                          PC1    PC2     PC3     PC4     PC5     PC6     PC7
Standard deviation     3.4032 2.3594 1.95165 1.67384 1.61518 1.51707 1.40748
Proportion of Variance 0.2271 0.1091 0.07469 0.05494 0.05115 0.04513 0.03884
Cumulative Proportion  0.2271 0.3362 0.41093 0.46587 0.51702 0.56215 0.60099
                           PC8     PC9   PC10    PC11    PC12    PC13    PC14
Standard deviation     1.37110 1.32664 1.3011 1.22308 1.15606 1.12138 1.10775
Proportion of Variance 0.03686 0.03451 0.0332 0.02933 0.02621 0.02466 0.02406
Cumulative Proportion  0.63785 0.67236 0.7056 0.73489 0.76109 0.78575 0.80981
                          PC15    PC16    PC17    PC18    PC19    PC20    PC21
Standard deviation     1.06223 1.02334 0.97678 0.92605 0.89166 0.82305 0.79979
Proportion of Variance 0.02212 0.02053 0.01871 0.01682 0.01559 0.01328 0.01254
Cumulative Proportion  0.83193 0.85247 0.87118 0.88799 0.90358 0.91686 0.92941
                          PC22    PC23    PC24    PC25    PC26    PC27    PC28
Standard deviation     0.73947 0.72458 0.66486 0.65555 0.60993 0.55899 0.47199
Proportion of Variance 0.01072 0.01029 0.00867 0.00843 0.00729 0.00613 0.00437
Cumulative Proportion  0.94013 0.95042 0.95909 0.96752 0.97481 0.98094 0.98531
                          PC29    PC30    PC31    PC32    PC33    PC34    PC35
Standard deviation     0.43063 0.41081 0.36297 0.26058 0.25632 0.22169 0.19467
Proportion of Variance 0.00364 0.00331 0.00258 0.00133 0.00129 0.00096 0.00074
Cumulative Proportion  0.98894 0.99225 0.99483 0.99617 0.99745 0.99842 0.99916
                         PC36    PC37    PC38    PC39      PC40      PC41
Standard deviation     0.1593 0.09714 0.07291 0.05158 1.511e-15 1.061e-15
Proportion of Variance 0.0005 0.00019 0.00010 0.00005 0.000e+00 0.000e+00
Cumulative Proportion  0.9997 0.99984 0.99995 1.00000 1.000e+00 1.000e+00
                            PC42      PC43     PC44      PC45      PC46
Standard deviation     7.806e-16 7.034e-16 3.03e-16 2.149e-16 2.149e-16
Proportion of Variance 0.000e+00 0.000e+00 0.00e+00 0.000e+00 0.000e+00
Cumulative Proportion  1.000e+00 1.000e+00 1.00e+00 1.000e+00 1.000e+00
                            PC47      PC48      PC49      PC50      PC51
Standard deviation     2.149e-16 2.149e-16 2.149e-16 2.149e-16 9.209e-17
Proportion of Variance 0.000e+00 0.000e+00 0.000e+00 0.000e+00 0.000e+00
Cumulative Proportion  1.000e+00 1.000e+00 1.000e+00 1.000e+00 1.000e+00</code></pre>
</div>
</div>
<p>The results show 51 significant variance proportions. This is somewhat more specified than the 54 variable data set. The weighted sum of PC1 explains .23 of the variance in 54 variables. At PC30, we reach .99 cumulative proportion, drastically clarifying potential redundancies from the data set. This is also visualized below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.2.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">PC =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">min</span>(<span class="fu">length</span>(PCA<span class="sc">$</span>sdev), <span class="dv">30</span>), <span class="at">Variance =</span> (PCA<span class="sc">$</span>sdev[<span class="dv">1</span><span class="sc">:</span><span class="fu">min</span>(<span class="fu">length</span>(PCA<span class="sc">$</span>sdev), <span class="dv">30</span>)]<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> <span class="fu">sum</span>(PCA<span class="sc">$</span>sdev<span class="sc">^</span><span class="dv">2</span>))), <span class="fu">aes</span>(<span class="at">x =</span> PC, <span class="at">y =</span> Variance))<span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">min</span>(<span class="fu">length</span>(PCA<span class="sc">$</span>sdev), <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Principal Component"</span>, <span class="at">y =</span> <span class="st">"Variance Explained"</span>, <span class="at">title =</span> <span class="st">"Scree Plot"</span>)<span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray85"</span>),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.grid.major.y =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray85"</span>),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray50"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="assignment4_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="visualizing-principal-components" class="level3">
<h3 class="anchored" data-anchor-id="visualizing-principal-components">Visualizing Principal Components</h3>
<p>Visualization formats should be chosen based on what elements of the data that have proven most relevant. Below we show two visualization examples, one macro and one micro. First, we wish to show how variables from the original data can be projected onto components discovered. We can use this visualization to potentially identify new potential variables and vet existing ones. Below we chose to project the variable Tondu onto PC1 and PC2 , which will represent the axes. Remember, Tondu is a factor with 7 level survey responses providing attitudes on towards Taiwan’s potential to reunify with China. By, projecting the original data onto the new eigenvector data, to see if we can discover a sense of what PC1 and PC2 could be correlated with in Tondu.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>vizPCA <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(PCA<span class="sc">$</span>x) <span class="co">#Transformed Eigenvalues </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>vizPCA<span class="sc">$</span>Tondu <span class="ot">&lt;-</span> PCATEDS<span class="sc">$</span>Tondu <span class="co">#Add Parent Data for Tondu</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>vizPCA<span class="sc">$</span>Tondu <span class="ot">&lt;-</span> <span class="fu">factor</span>(vizPCA<span class="sc">$</span>Tondu, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1'</span>,<span class="st">'2'</span>,<span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5'</span>,<span class="st">'6'</span>, <span class="st">'9'</span>),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="at">labels=</span><span class="fu">c</span>(<span class="st">'Unification now'</span>,<span class="st">'Status quo, unif. in future'</span>,<span class="st">'Status quo, decide later'</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="st">'Status quo forever'</span>, <span class="st">'Status quo, indep. in future'</span>, <span class="st">'Independence now'</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="st">'No response'</span>))</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(vizPCA) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>vizPCA[,<span class="dv">1</span>], <span class="at">y=</span>vizPCA[,<span class="dv">2</span>], <span class="at">color=</span>Tondu))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="assignment4_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As you can see, there are some clear and some vague groupings here. Two major groupings stand out and depict a bi-modal distribution. Interestingly, you can see how some special combination of PC1 and PC2 at -5 standard deviations contains one of two groupings. This group contains most of the responses in support of Status Quo, Unification in Future while the other grouping at standard deviation 2.5 contains most of the responses for Status Quo, Independence in Future. We can deduce that PC1 and PC2 offer some insight that may significantly contribute to how Taiwanese voters find themselves in one of these two schools of thought. These two major groupings are relatively distinct in the graph and supports the theory that these two stances are diametrically opposed. The same can be said for Unification Now and Independence Now which are both exponentially smaller in frequency than their previously mentioned counterparts. Status Quo, Decide Later is distributed throughout both groups and take up the most space in between groups which indicates it’s versatility as a preference. Perhaps, Status Quo, Decide Later is less useful in making distinctions than others will be.</p>
<p>What is most interesting is Status Quo, Forever. The frequency of Status Quo Forever is more closely tied with varying stances in support of Unification (-5 SD grouping), while its opposing group has significantly fewer instances. This is our clue that perhaps projecting Chinese or Taiwanese heritage onto PCA data might reveal or confirm correlations for weaker/stronger ties with China. It behooves us to try a few different visualizations. Some like to start with a macro visualization with as many inputs as possible, others like to start with micro visualizations. It just depends on how your own mental faculties are best assisted. Below, we use the not go into macro visualization where all original variables are projected visually with all principal components as recoding the inputs into factor levels would be too tedious here. We will leave it for another day!</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>